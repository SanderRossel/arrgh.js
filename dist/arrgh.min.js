var arrgh=function(){"use strict";function t(t,n){d.prototype=n.prototype,t.prototype=new d,d.prototype=null,t.prototype.constructor=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function e(t){return void 0===t||null===t}function r(){return!0}function o(t){return t}function i(t){if(!t||t===m)return m;if(t.equals&&t.getHash)return t;var n;return n="function"==typeof t?{equals:t,getHash:m.getHash}:{equals:t.equals||m.equals,getHash:t.getHash||m.getHash}}function u(t,n){if(t.count()<2)return t;var e=t.first(),r=t.where(function(t,r){return 0!==r&&(n?n(t,e)<=0:t<=e)}),o=t.where(function(t,r){return 0!==r&&(n?n(t,e)>0:t>e)}),i=u(r,n),a=u(o,n);return i.unionAll(new c([e])).unionAll(a)}var c,a,s,h,f,l,v,y,g,p,w,d=function(){},m={equals:function(t,n){return t===n},getHash:function(t){var n;return n=null===t?"null":void 0===t?"undefined":"function"==typeof t.getHash?t.getHash():"function"==typeof t.toString?t.toString():Object.prototype.toString.call(t)}};f=function(t){var n=t.length,e=-1;this.moveNext=function(){if(t.length!==n)throw new Error("Collection was modified, enumeration operation may not execute.");return e+=1,e<n},this.current=function(){return t[e]}},l=function(t){var n,e,r=t.length,o=-1,i=-1;this.moveNext=function(){if(t.length!==r)throw new Error("Collection was modified, enumeration operation may not execute.");if(e&&i!=e.length-1)i+=1,n=e[i];else if(o+=1,o<t._.hashes.length){var u=t._.hashes[o];e=t._.keys[u],i=0,n=e[i]}else n=null;return o<=t._.hashes.length-1},this.current=function(){return n}},y=function(t,n){n=n||r;var e,o=-1,i=t.getIterator();e=function(){return o+=1,!!i.moveNext()&&(!!n(i.current(),o)||e())},this.moveNext=e,this.current=i.current},v=function(t,n){var e,r=t.getIterator(),o=!0;this.moveNext=function(){return r.moveNext()?(o=!1,e=r.current(),!0):!!o&&(o=!1,e=n,!0)},this.current=function(){return e}},g=function(t,n){n=n||o;var e=-1,r=t.getIterator();this.moveNext=function(){return e+=1,r.moveNext()},this.current=function(){return n(r.current(),e)}},p=function(){var t=function(t,n){for(var e=t;e._.source instanceof h&&e._.source!==n;)e=e._.source;return e},n=function(t,n){return!e(t)&&e(n)?1:e(t)&&!e(n)?-1:e(t)&&e(n)?0:t>n?1:t<n?-1:0};return function(e){var r,o,i=this,a=-1;i.moveNext=function(){if(a===-1){var i=t(e);r=u(new c(i._.source.toArray()),function(r,o){for(var u,c=!0,a=i;c&&(u=n(a._.keySelector(r),a._.keySelector(o))*a._.descending,0===u);)a===e?c=!1:a=t(e,a);return u}).toArray(),o=r.length}return a+=1,a<o},i.current=function(){return r[a]}}}();w=function(t,n,e){var r,o,i,u=t.getIterator(),c=n.getIterator(),a=!0;e&&(o=new s(e),i=function(t){return!!o.containsKey(t)||(o.add(t),!1)});var h,f=function(t){var n=t.moveNext();return n&&(r=t.current(),e&&i(r))?h(t):n};h=function(){return a?(a=f(u),!!a||h()):f(c)},this.moveNext=h,this.current=function(){return r}},c=function(){var t;t=arguments.length>1?Array.prototype.slice.call(arguments):arguments[0]||[],n(t)?this.getIterator=function(){return new f(t)}:this.getIterator=t};var _=new c;c.empty=function(){return _};var E=c.prototype;E.all=function(t){var n=!0;return this.forEach(function(e){return n=t(e)}),n},E.any=function(t){var n=!1;return this.forEach(function(e){return t?(n=t(e),!n):(n=!0,!1)}),n},E.some=E.any,E.average=function(t){t=t||o;var n=0,e=0;if(this.forEach(function(r,o){n+=t(r),e+=1}),0===e)throw new Error("Collection contains no elements.");return n/e},E.contains=function(t,n){n=i(n);var e=!1;return this.forEach(function(r){return e=n.equals(r,t),!e}),e},E.count=function(t){var n=0;return t=t||r,this.forEach(function(e){t(e)&&(n+=1)}),n},E.defaultIfEmpty=function(t){var n=this;return new c(function(){return new v(n,t)})},E.distinct=function(t){return this.union(_,t)},E.elementAt=function(t){var n={},e=this.elementAtOrDefault(t,n);if(e===n)throw new Error("Index was outside the bounds of the collection.");return e},E.elementAtOrDefault=function(t,n){if(t<0)return n;var e,r=!1;return this.forEach(function(n,o){if(o===t)return e=n,r=!0,!1}),r?e:n},E.except=function(t){},E.forEach=function(t){for(var n=this.getIterator(),r=null,o=0;(e(r)||r)&&n.moveNext();)r=t(n.current(),o),o+=1},E.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},E.indexOf=function(t,n){var e=this.toArray();if(Array.prototype.indexOf)return e.indexOf(t,n);var r=this.count();if(n=n||-1,0===r||n>r)return-1;var o,i=-1;for(o=n;o<r;o+=1)if(e[o]===t){i=o;break}return i},E.filter=function(t){var n=this;return new c(function(){return new y(n,t)})},E.where=E.filter,E.map=function(t){var n=this;return new c(function(){return new g(n,t)})},E.select=E.map,E.first=function(t){if(this.count()>0){var n,e=!1;if(this.forEach(function(r){return t?t(r)?(n=r,e=!0,!1):void 0:(n=r,e=!0,!1)}),!e)throw"Collection contains no matching element.";return n}throw"Collection contains no elements."},E.tail=function(){if(this.count()>0){var t=[];return this.forEach(function(n,e){0!==e&&t.push(n)}),t}throw"Collection contains no elements."},E.unionAll=function(t){var n=this;return new c(function(){return new w(n,t)})},E.concat=E.unionAll,E.union=function(t,n){var e=this;return new c(function(){return new w(e,t,i(n))})},E.asEnumerable=function(){return new c(this.getIterator)},E.toList=function(){return new a(this)},E.toDictionary=function(t,n){t=t||o,n=n||o;var e=new s;return this.forEach(function(r){e.add(t(r),n(r))}),e},E.orderBy=function(t){return new h(this,t,!1)},E.orderByDescending=function(t){return new h(this,t,!0)},a=function(){var t=this;c.call(t,function(){return new f(t)});var e;if(e=arguments.length>1?Array.prototype.slice.call(arguments):arguments[0]||[],n(e)){t.length=e.length;var r;for(r=0;r<e.length;r+=1)t[r]=e[r]}else t.length=0,e.forEach(function(n,e){t[e]=n,t.length+=1})},t(a,c);var k=a.prototype;k.add=function(t){this[this.length]=t,this.length+=1},k.addRange=function(){if(1===arguments.length&&arguments[0].getIterator){var t=this;arguments[0].forEach(function(n){t[t.length]=n,t.length+=1})}else{var e,r=1===arguments.length&&n(arguments[0])?arguments[0]:arguments;for(e=0;e<r.length;e+=1)this[this.length]=r[e],this.length+=1}},k.push=function(){return this.addRange(arguments),this.length},k.remove=function(t){var n,e=this.length,r=!1;for(n=0;n<e;n+=1)r=r||this[n]===t,r&&(this[n]=this[n+1]);return r&&(delete this[e-1],this.length-=1),r},k.count=function(t){return t?c.prototype.count.call(this,t):this.length},k.toArray=function(){return Array.prototype.slice.call(this)},s=function(t){var n=this;c.call(n,function(){return new l(n)}),n.length=0,n._={eqComparer:i(t),hashes:new a,keys:{}}},t(s,c);var x=s.prototype,A=function(t,n,e){return!!e.keys.hasOwnProperty(t)&&e.keys[t].contains(n,function(t,n){return e.eqComparer.equals(t.key,n)})};x.containsKey=function(t){var n=this._.eqComparer.getHash(t);return A(n,t,this._)},x.add=function(t,n){var e=this._.eqComparer.getHash(t);if(A(e,t,this._))throw new Error("Key ["+t+"] is already present in the dictionary.");this._.keys[e]||(this._.keys[e]=new a),this._.keys[e].add({key:t,value:n}),this._.hashes.add(e),this.length+=1};var q=function(t,n,e){if(!t._.keys.hasOwnProperty(n))throw new Error("Key ["+e+"] was not found in the dictionary.");var r=t._.keys[n].first(function(n){return t._.eqComparer.equals(n.key,e)});if(!r)throw new Error("Key ["+e+"] was not found in the dictionary.");return r};x.remove=function(t){var n=dict._.eqComparer.getHash(t),e=this.getKvpByKey(this,n,t),r=this._.keys[t];r.remove(e),r.any()||(delete this._.keys[t],this._.hashes.remove(n)),this.length-=1},x.get=function(t){var n=this._.eqComparer.getHash(t);return q(this,n,t).value};var C=function(t){var n,e=new a;for(n in this._.keys)this._.keys.hasOwnProperty(n)&&e.addRange(this._.keys[n].select(t));return e};x.getKeys=function(){return C(function(t){return t.key})},x.getValues=function(){return C(function(t){return t.value})},x.count=function(t){return t?c.prototype.count.call(this,t):this.length},h=function(t,n,e){var r=this;c.call(this,function(){return new p(r)}),r._={source:t,keySelector:n||o,descending:e?-1:1}},t(h,c);var H=h.prototype;return H.thenBy=function(t){return new h(this,t,!1)},H.thenByDescending=function(t){return new h(this,t,!0)},{Enumerable:c,List:a,Dictionary:s}}();