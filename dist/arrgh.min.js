var arrgh=function(){"use strict";function t(t,n){p.prototype=n.prototype,t.prototype=new p,p.prototype=null,t.prototype.constructor=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return void 0===t||null===t}function e(){return!0}function o(t){return t}function i(t,n){return t===n}function u(t,n){if(t.count()<2)return t;var r=t.first(),e=t.where(function(t,e){return 0!==e&&(n?n(t,r)<=0:t<=r)}),o=t.where(function(t,e){return 0!==e&&(n?n(t,r)>0:t>r)}),i=u(e,n),a=u(o,n);return i.unionAll(new c([r])).unionAll(a)}var c,a,f,s,h,l,v,y,d,g,w,p=function(){};h=function(t){var n=t.length,r=-1;this.moveNext=function(){if(t.length!==n)throw"Collection was modified, enumeration operation may not execute.";return r+=1,r<n},this.current=function(){return t[r]}},l=function(t){var n,r=t.getKeys(),e=t.length,o=-1;this.moveNext=function(){if(t.length!==e)throw"Collection was modified, enumeration operation may not execute.";return o+=1,n=r[o],o<e},this.current=function(){return{key:n,value:t[n]}}},y=function(t,n){n=n||e;var r,o=-1,i=t.getIterator();r=function(){return o+=1,!!i.moveNext()&&(!!n(i.current(),o)||r())},this.moveNext=r,this.current=i.current},v=function(t,n){var r,e=t.getIterator(),o=!0;this.moveNext=function(){return e.moveNext()?(o=!1,r=e.current(),!0):!!o&&(o=!1,r=n,!0)},this.current=function(){return r}},d=function(t,n){n=n||o;var r=-1,e=t.getIterator();this.moveNext=function(){return r+=1,e.moveNext()},this.current=function(){return n(e.current(),r)}},g=function(){var t=function(t,n){for(var r=t;r._.source instanceof s&&r._.source!==n;)r=r._.source;return r},n=function(t,n){return!r(t)&&r(n)?1:r(t)&&!r(n)?-1:r(t)&&r(n)?0:t>n?1:t<n?-1:0};return function(r){var e,o,i=this,a=-1;i.moveNext=function(){if(a===-1){var i=t(r);e=u(new c(i._.source.toArray()),function(e,o){for(var u,c=!0,a=i;c&&(u=n(a._.keySelector(e),a._.keySelector(o))*a._.descending,0===u);)a===r?c=!1:a=t(r,a);return u}).toArray(),o=e.length}return a+=1,a<o},i.current=function(){return e[a]}}}(),w=function(t,n,r){var e,o,i=t.getIterator(),u=n.getIterator(),c=!0,s=new f,h=new a,l=function(t,n){return f.isValidKey(t)?!!s.hasKey(t)||(s.add(t),!1):!!h.contains(t,n)||(h.add(t),!1)},v=function(t){var n=t.moveNext();return n&&(e=t.current(),r&&l(e,r))?o(t):n};o=function(){return c?(c=v(i),!!c||o()):v(u)},this.moveNext=o,this.current=function(){return e}},c=function(){var t=arguments[0]||[];n(t)?this.getIterator=function(){return new h(t)}:this.getIterator=t};var m=new c;c.empty=function(){return m};var x=c.prototype;x.all=function(t){var n=!0;return this.forEach(function(r){return n=t(r)}),n},x.any=function(t){var n=!1;return this.forEach(function(r){return t?(n=t(r),!n):(n=!0,!1)}),n},x.some=x.any,x.average=function(t){t=t||o;var n=0,r=0;if(this.forEach(function(e,o){n+=t(e),r+=1}),0===r)throw new Error("Collection contains no elements.");return n/r},x.contains=function(t,n){n=n||i;var r=!1;return this.forEach(function(e){return r=n(e,t),!r}),r},x.count=function(t){var n=0;return t=t||e,this.forEach(function(r){t(r)&&(n+=1)}),n},x.defaultIfEmpty=function(t){var n=this;return new c(function(){return new v(n,t)})},x.distinct=function(t){return this.union(m,t)},x.forEach=function(t){for(var n=this.getIterator(),e=null,o=0;(r(e)||e)&&n.moveNext();)e=t(n.current(),o),o+=1},x.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},x.indexOf=function(t,n){var r=this.toArray();if(Array.prototype.indexOf)return r.indexOf(t,n);var e=this.count();if(n=n||-1,0===e||n>e)return-1;var o,i=-1;for(o=n;o<e;o+=1)if(r[o]===t){i=o;break}return i},x.filter=function(t){var n=this;return new c(function(){return new y(n,t)})},x.where=x.filter,x.map=function(t){var n=this;return new c(function(){return new d(n,t)})},x.select=x.map,x.first=function(t){if(this.count()>0){var n,r=!1;if(this.forEach(function(e){return t?t(e)?(n=e,r=!0,!1):void 0:(n=e,r=!0,!1)}),!r)throw"Collection contains no matching element.";return n}throw"Collection contains no elements."},x.tail=function(){if(this.count()>0){var t=[];return this.forEach(function(n,r){0!==r&&t.push(n)}),t}throw"Collection contains no elements."},x.unionAll=function(t){var n=this;return new c(function(){return new w(n,t)})},x.concat=x.unionAll,x.union=function(t,n){var r=this;return new c(function(){return new w(r,t,n||i)})},x.asEnumerable=function(){return new c(this.getIterator)},x.toList=function(){return new a(this)},x.toDictionary=function(t,n){t=t||o,n=n||o;var r=new f;return this.forEach(function(e){r.add(t(e),n(e))}),r},x.orderBy=function(t){return new s(this,t,!1)},x.orderByDescending=function(t){return new s(this,t,!0)},a=function(){var t=this;c.call(t,function(){return new h(t)});var r=arguments[0];if(r=r||[],n(r)){t.length=r.length;var e;for(e=0;e<r.length;e+=1)t[e]=r[e]}else t.length=0,r.forEach(function(n,r){t[r]=n,t.length+=1})},t(a,c);var E=a.prototype;E.add=function(t){var n=this.length;if(void 0!==this[n])throw"Index "+n+" already declared.";this[n]=t,this.length+=1},E.addRange=function(){if(arguments.length>1||n(arguments[0])){var t,r=arguments.length>1?arguments:arguments[0];for(t=0;t<r.length;t+=1)this.add(r[t])}else{var e=this;arguments[0].forEach(function(t){e.add(t)})}},E.push=function(){return this.addRange(arguments),this.length},E.remove=function(t){var n,r=this.length,e=!1;for(n=0;n<r;n+=1)e=e||this[n]===t,e&&(this[n]=this[n+1]);return e&&(delete this[r-1],this.length-=1),e},E.count=function(t){return t?c.prototype.count.call(this,t):this.length},E.toArray=function(){return Array.prototype.slice.call(this)},f=function(){var t=this;c.call(t,function(){return new l(t)}),t.length=0,t._={keys:{},values:new a}},t(f,c),f.isValidKey=function(t){return"object"!=typeof t||"[object Object]"!==t.toString()};var _=f.prototype,A=function(t){if(!f.isValidKey(t))throw"The specified key object is not valid.";var n;return n=null===t?"null":void 0===t?"undefined":"function"==typeof t.toString?t.toString():Object.prototype.toString.call(t)};_.hasKey=function(t){return this._.keys.hasOwnProperty(t)},_.add=function(t,n){if(t=A(t),this.hasKey(t))throw"Key "+t+" is already present in the dictionary.";if(this.hasOwnProperty(t))throw"Key "+t+" already declared";this[t]=n,this._.keys[t]=n,this._.values.add(n),this.length+=1},_.getKeys=function(){var t,n=new a;for(t in this._.keys)this._.keys.hasOwnProperty(t)&&n.add(t);return n},_.getValues=function(){return this._.values.toList()},_.count=function(t){return t?c.prototype.count.call(this,t):this.length},s=function(t,n,r){var e=this;c.call(this,function(){return new g(e)}),e._={source:t,keySelector:n||o,descending:r?-1:1}},t(s,c);var N=s.prototype;return N.thenBy=function(t){return new s(this,t,!1)},N.thenByDescending=function(t){return new s(this,t,!0)},{Enumerable:c,List:a,Dictionary:f}}();